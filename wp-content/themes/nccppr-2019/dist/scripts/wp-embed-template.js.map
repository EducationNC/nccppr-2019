{"version":3,"sources":["../assets/scripts/wp-embed-template.js"],"names":["window","document","secret","secretTimeout","resizing","supportedBrowser","querySelector","addEventListener","loaded","sendEmbedMessage","message","value","parent","postMessage","onLoad","self","top","Math","ceil","body","getBoundingClientRect","height","getSecret","location","hash","replace","clearTimeout","setTimeout","documentElement","className"],"mappings":"CAAA,SAAAA,EAAAC,GACA,aAEA,IAEAC,EACAC,EACAC,EAJAC,EAAAJ,EAAAK,eAAAN,EAAAO,iBACAC,GAAA,EAKA,SAAAC,EAAAC,EAAAC,GACAX,EAAAY,OAAAC,YAAA,CACAH,QAAAA,EACAC,MAAAA,EACAT,OAAAA,GACA,KAGA,SAAAY,IACAN,IAGAA,GAAA,EAEAR,EAAAe,OAAAf,EAAAgB,KAOAP,EAAA,SAAAQ,KAAAC,KAAAjB,EAAAkB,KAAAC,wBAAAC,UAmCAhB,KAdA,SAAAiB,IACAtB,EAAAe,OAAAf,EAAAgB,KAAAd,IAIAA,EAAAF,EAAAuB,SAAAC,KAAAC,QAAA,0BAAA,MAEAC,aAAAvB,GAEAA,EAAAwB,WAAA,WACAL,KACA,MAIAA,GACArB,EAAA2B,gBAAAC,UAAA5B,EAAA2B,gBAAAC,UAAAJ,QAAA,YAAA,IAAA,MACAxB,EAAAM,iBAAA,mBAAAO,GAAA,GACAd,EAAAO,iBAAA,OAAAO,GAAA,GACAd,EAAAO,iBAAA,SAlCA,WACAP,EAAAe,OAAAf,EAAAgB,MAIAU,aAAAtB,GAEAA,EAAAuB,WAAA,WACAlB,EAAA,SAAAQ,KAAAC,KAAAjB,EAAAkB,KAAAC,wBAAAC,UACA,QAyBA,IAtEA,CAwEArB,OAAAC","file":"wp-embed-template.js","sourcesContent":["(function ( window, document ) {\n\t'use strict';\n\n\tvar supportedBrowser = ( document.querySelector && window.addEventListener ),\n\t\tloaded = false,\n\t\tsecret,\n\t\tsecretTimeout,\n\t\tresizing;\n\n\tfunction sendEmbedMessage( message, value ) {\n\t\twindow.parent.postMessage( {\n\t\t\tmessage: message,\n\t\t\tvalue: value,\n\t\t\tsecret: secret\n\t\t}, '*' );\n\t}\n\n\tfunction onLoad() {\n\t\tif ( loaded ) {\n\t\t\treturn;\n\t\t}\n\t\tloaded = true;\n\n\t\tif ( window.self === window.top ) {\n\t\t\treturn;\n\t\t}\n\n\t\t/**\n\t\t * Send this document's height to the parent (embedding) site.\n\t\t */\n\t\tsendEmbedMessage( 'height', Math.ceil( document.body.getBoundingClientRect().height ) );\n\t}\n\n\t/**\n\t * Iframe resize handler.\n\t */\n\tfunction onResize() {\n\t\tif ( window.self === window.top ) {\n\t\t\treturn;\n\t\t}\n\n\t\tclearTimeout( resizing );\n\n\t\tresizing = setTimeout( function () {\n\t\t\tsendEmbedMessage( 'height', Math.ceil( document.body.getBoundingClientRect().height ) );\n\t\t}, 100 );\n\t}\n\n\t/**\n\t * Re-get the secret when it was added later on.\n\t */\n\tfunction getSecret() {\n\t\tif ( window.self === window.top || !!secret ) {\n\t\t\treturn;\n\t\t}\n\n\t\tsecret = window.location.hash.replace( /.*secret=([\\d\\w]{10}).*/, '$1' );\n\n\t\tclearTimeout( secretTimeout );\n\n\t\tsecretTimeout = setTimeout( function () {\n\t\t\tgetSecret();\n\t\t}, 100 );\n\t}\n\n\tif ( supportedBrowser ) {\n\t\tgetSecret();\n\t\tdocument.documentElement.className = document.documentElement.className.replace( /\\bno-js\\b/, '' ) + ' js';\n\t\tdocument.addEventListener( 'DOMContentLoaded', onLoad, false );\n\t\twindow.addEventListener( 'load', onLoad, false );\n\t\twindow.addEventListener( 'resize', onResize, false );\n\t}\n})( window, document );\n"],"sourceRoot":"assets/scripts/"}